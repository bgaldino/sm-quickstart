<template>
  <div
    class="slds-grid slds-wrap slds-gutters slds-grid slds-grid_align-center"
  >
    <div
      class="slds-col slds-size_1-of-1 slds-large-size_10-of-12 slds-m-around_small"
    >
      <lightning-card>
        <h2
          class="slds-text-align_center slds-text-heading_medium"
          slot="title"
        >
          <strong>Checkout</strong>
        </h2>
        <div class="slds-card__body slds-card__body_inner">
          <lightning-input
            variant="success"
            type="toggle"
            label="Use a new Card?"
            class="slds-m-left_x-small"
            checked={useNewCard}
            onchange={useNewCardHandler}
            message-toggle-active="Yes"
            message-toggle-inactive="No"
          >
          </lightning-input>
          <template if:true={useNewCard}>
            <c-card-input
              oncardcomplete={cardCompleteChangeHandler}
              oncardincomplete={cardIncompleteChangeHandler}
            ></c-card-input>
          </template>
          <template if:false={useNewCard}>
            <lightning-combobox
              label="Select a Payment Card"
              name="Card"
              value={selectedCardId}
              placeholder="Select Card"
              options={paymentCards}
              onchange={selectCardHandler}
            >
            </lightning-combobox>
          </template>
          <div class="slds-text-heading_small slds-m-top_x-large">
            Billing Address
          </div>
          <lightning-input-address
            class="address-input"
            address-label="Address"
            street-label="Street"
            city-label="City"
            country-label="Country"
            province-label="Province"
            postal-code-label="PostalCode"
            street={address.street}
            city={address.city}
            country={address.country}
            province={address.province}
            postal-code={address.postalCode}
            required
            onchange={handleAddressChange}
            field-level-help=""
          ></lightning-input-address>
        </div>
      </lightning-card>
    </div>
  </div>
</template>
